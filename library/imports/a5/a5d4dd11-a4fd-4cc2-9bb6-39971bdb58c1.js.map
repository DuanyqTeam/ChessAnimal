{"version":3,"sources":["../../../../../../assets/common/script/basic/assets/common/script/basic/MatchvsEngine.js"],"names":["MatchvsEngine","console","log","prototype","init","matchVSResponses","channel","platform","gameid","responses","registerUser","_forEachResponse","res","setTimeout","userInfo","userID","token","name","avatar","registerUserResponse","login","gameVersion","appkey","secret","deviceID","gatewayid","joinRandomRoom","roomInfo","status","userInfoList","userProfile","rootID","rootProperty","owner","roomJoinResponse","func","i","length","joinOver","sendEvent","event","mockEventId","Date","getTime","sendEventRsp","seq","module","exports"],"mappings":"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","sourceRoot":"../../../../../../assets/common/script/basic","sourcesContent":["function MatchvsEngine() {\r\n    console.log('MatchvsEngine init');\r\n}\r\n\r\nMatchvsEngine.prototype.init = function(matchVSResponses, channel, platform, gameid){\r\n    this.responses = matchVSResponses;\r\n    return 0;\r\n};\r\n\r\nMatchvsEngine.prototype.registerUser = function() {\r\n    this._forEachResponse(function(res) {\r\n        setTimeout(function(){\r\n            var userInfo = {\r\n                userID: 10086,\r\n                token: 'jkfldjalfkdjaljfs',\r\n                name: '张三',\r\n                avatar: 'http://d3819ii77zvwic.cloudfront.net/wp-content/uploads/2015/02/child-fist-pump.jpg'\r\n            };\r\n            res.registerUserResponse && res.registerUserResponse(userInfo);\r\n        }, 100);\r\n    });\r\n    return 0;\r\n};\r\n\r\nMatchvsEngine.prototype.login = function(userID,token,gameid,gameVersion,appkey, secret,deviceID,gatewayid){\r\n    return 0;\r\n};\r\n\r\nMatchvsEngine.prototype.joinRandomRoom = function(){\r\n    this._forEachResponse(function(res) {\r\n        setTimeout(function(){\r\n            var roomInfo = {\r\n                status: 0,\r\n                userInfoList: [\r\n                    {userID: 10086,userProfile: '张三'},\r\n                    {userID: 10087,userProfile: '李四'},\r\n                    {userID: 10088,userProfile: '王五'},\r\n                ],\r\n                roomInfo: {\r\n                    rootID: 1028374,\r\n                    rootProperty: \"好房间\",\r\n                    owner: 10086,\r\n                }\r\n            };\r\n            res && res.roomJoinResponse(roomInfo);\r\n        }, 100);\r\n    });\r\n    return 0;\r\n};\r\n\r\nMatchvsEngine.prototype._forEachResponse = function(func) {\r\n    if (this.responses) {\r\n        for(var i = 0; i<this.responses.length; i++) {\r\n            this.responses[i] && func(this.responses[i]);\r\n        }\r\n    }\r\n};\r\n\r\nMatchvsEngine.prototype.joinOver = function(){\r\n    return 0;\r\n};\r\n\r\nMatchvsEngine.prototype.sendEvent = function(event){\r\n    var mockEventId = new Date().getTime();\r\n    this._forEachResponse(function(res){\r\n        setTimeout(function(){\r\n            res.sendEventRsp && res.sendEventRsp({\"status\": 0, \"seq\": mockEventId});\r\n        }, 100);\r\n    });\r\n    return {status: 0, seq: mockEventId};\r\n};\r\n\r\nmodule.exports = MatchvsEngine;"]}