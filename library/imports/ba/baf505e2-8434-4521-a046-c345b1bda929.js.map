{"version":3,"sources":["../../../../../assets/common/script/assets/common/script/player.js"],"names":["cc","Class","Component","properties","ID","onLoad","gameManager","find","getComponent","animation","node","Animation","on","_finished","hitAnimName","beHitedAnimName","standUpAnimName","complacentAnimName","sitDownAnimName","playerState","Player_State","None","clientEvent","eventType","hitEvent","standUpEventMed","standUpEvent","complacentEvent","sitDown","param","complacent","standUp","SitDown","play","hit","beingHit","setSiblingIndex","Hit","BeingHit","StandUp","Complacent","event","none","onDestroy","off"],"mappings":"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","sourceRoot":"../../../../../assets/common/script","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        ID: {\n            default: 0\n        }\n    },\n\n    onLoad() {\n        this.gameManager = cc.find('Canvas').getComponent('gameManager');\n        this.animation = this.node.getComponent(cc.Animation);\n        this.animation.on('finished', this._finished, this);\n        this.hitAnimName = 'beat1'\n        this.beHitedAnimName = 'beingBeaten';\n        this.standUpAnimName = 'bescold';\n        this.complacentAnimName = 'dese';\n        this.sitDownAnimName = 'lunges';\n        this.playerState = Player_State.None;\n        clientEvent.on(clientEvent.eventType.hitEvent, this.hitEvent, this);\n        clientEvent.on(clientEvent.eventType.standUpEventMed, this.standUpEvent, this);\n        clientEvent.on(clientEvent.eventType.complacentEvent, this.complacentEvent, this);\n        clientEvent.on(clientEvent.eventType.sitDown, this.sitDown, this);\n    },\n    complacentEvent(param) {\n        if (param.ID === this.ID) {\n            this.complacent();\n        }\n    },\n    standUpEvent(param) {\n        if (param.ID === this.ID) {\n            this.standUp();\n        }\n    },\n    sitDown() {\n        this.playerState = Player_State.SitDown;\n        this.animation.play(this.sitDownAnimName);\n    },\n    hitEvent(param) {\n        if (param.ID === this.ID) {\n            this.hit();\n\n        } else {\n            this.beingHit();\n        }\n    },\n    hit() {\n        this.node.setSiblingIndex(999);\n        this.playerState = Player_State.Hit;\n        this.animation.play(this.hitAnimName);\n    },\n    beingHit() {\n        this.node.setSiblingIndex(0);\n        this.playerState = Player_State.BeingHit;\n        this.animation.play(this.beHitedAnimName);\n    },\n    standUp() {\n        this.playerState = Player_State.StandUp;\n        this.animation.play(this.standUpAnimName);\n    },\n    complacent() {\n        this.playerState = Player_State.Complacent;\n        this.animation.play(this.complacentAnimName);\n    },\n    _finished(event) {\n        this.playerState = Player_State.none;\n    },\n    onDestroy() {\n        this.animation.off('finished', this._finished, this);\n\n        clientEvent.off(clientEvent.eventType.hitEvent, this.hitEvent, this);\n        clientEvent.off(clientEvent.eventType.standUpEventMed, this.standUpEvent, this);\n        clientEvent.off(clientEvent.eventType.complacentEvent, this.complacentEvent, this);\n        clientEvent.off(clientEvent.eventType.sitDown, this.sitDown, this);\n    }\n\n});\n"]}