
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/common/script/uiGamePanel.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3f671I/w9NOAbyCeRA1k6l3', 'uiGamePanel');
// common/script/uiGamePanel.js

"use strict";

var mvs = require("Matchvs");

var GLB = require("Glb");

cc.Class({
  "extends": cc.Component,
  properties: {
    redFlag: cc.SpriteFrame,
    blueFlag: cc.SpriteFrame,
    redArrow: cc.SpriteFrame,
    blueArrow: cc.SpriteFrame
  },
  // LIFE-CYCLE CALLBACKS:
  onLoad: function onLoad() {
    // this.setPicture();
    // this.leftBgSprite = this.node.getChildByName('bgImg').getChildByName('colorImg').getChildByName('left').getComponent(cc.Sprite);
    // this.blueBgSprite = this.node.getChildByName('bgImg').getChildByName('colorImg').getChildByName('right').getComponent(cc.Sprite);
    this.leftBgSprite = this.node.getChildByName('headImg').getChildByName('imgBgLeft').getComponent(cc.Sprite);
    this.blueBgSprite = this.node.getChildByName('headImg').getChildByName('imgBgRight').getComponent(cc.Sprite);
    this.timeNode = this.node.getChildByName('time');
    this.timeLeftNode = this.timeNode.getChildByName('left');
    this.timeRightNode = this.timeNode.getChildByName('right');
    this.timeLeftTxt = this.node.getChildByName('leftTimeTxt');
    this.timeRightTxt = this.node.getChildByName('rightTimeTxt');
    this.leftArrowSprite = this.timeLeftNode.getChildByName('jiantou').getComponent(cc.Sprite);
    this.rightArrowSprite = this.timeRightNode.getChildByName('jiantou').getComponent(cc.Sprite);
    this.timeLeftNumNode = this.timeNode.getChildByName('leftTimeNum');
    this.timeRightNumNode = this.timeNode.getChildByName('rightTimeNum');
    this.readyNode = this.node.getChildByName('readyGo');
    this.timeNumNode = this.timeNode.getChildByName('num');
    this.timeNumLabel = this.timeNumNode.getComponent(cc.Label);
    this.timeAnim = this.timeNumNode.getComponent(cc.Animation);
    this.readyAnim = this.readyNode.getComponent(cc.Animation);
    this.readyAnim.on('finished', this.gameStart, this);
    this.selfIcon = this.node.getChildByName('headImg').getChildByName('leftImgMask').getChildByName('leftImg');
    this.rivalIcon = this.node.getChildByName('headImg').getChildByName('rightImgMask').getChildByName('rightImg');
    clientEvent.on(clientEvent.eventType.updateTime, this.updateTime, this);
    clientEvent.on(clientEvent.eventType.countTime, this.countTime, this);
    clientEvent.on(clientEvent.eventType.changeFlag, this.changeFlag, this);
    clientEvent.on(clientEvent.eventType.roundStart, this.roundStart, this);
    clientEvent.on(clientEvent.eventType.gameOver, this.gameOver, this);
    clientEvent.on(clientEvent.eventType.stopTimeWarnAnim, this.stopTimeWarnAnim, this);
    this.readyGoAudio = this.readyNode.getComponent(cc.AudioSource);
  },
  setPicture: function setPicture() {
    var redFlagUrl = cc.url.raw("resources/picture/animal/" + "redHead" + ".png");
    this.redFlag = new cc.SpriteFrame(redFlagUrl);
    var blueFlagUrl = cc.url.raw("resources/picture/animal/" + "blueHead" + ".png");
    this.blueFlag = new cc.SpriteFrame(blueFlagUrl);
    var redArrowUrl = cc.url.raw("resources/picture/animal/" + "redTime" + ".png");
    this.redArrow = new cc.SpriteFrame(redArrowUrl);
    var blueArrowUrl = cc.url.raw("resources/picture/animal/" + "blueTime" + ".png");
    this.blueArrow = new cc.SpriteFrame(blueArrowUrl);
  },
  setHeadIcon: function setHeadIcon() {
    this.selfIcon.getComponent('playerIcon').setData({
      id: GLB.playerUserIds[0]
    });
    this.rivalIcon.getComponent('playerIcon').setData({
      id: GLB.playerUserIds[1]
    });
  },
  gameOver: function gameOver() {
    this.stopTimeWarnAnim();
    this.setTimeNumFont();
    clearInterval(this.interval);
  },
  setTimeNumFont: function setTimeNumFont() {
    this.timeNumLabel.fontSize = 35;
  },
  roundStart: function roundStart() {
    console.log('------roundStart------');
    this.timeLabelInit();
    clearInterval(this.interval);
    this.playerFlag = GLB.PLAYER_FLAG.RED; // this.getTurn(this.playerFlag);

    user.init();
    this.headColorInit();
    clientEvent.dispatch(clientEvent.eventType.getMap);
    this.playReadyGo();
    this.setTimeNumFont();
    this.setHeadIcon();
  },
  playReadyGo: function playReadyGo() {
    this.readyAnim.play();
    this.readyGoAudio.play();
  },
  playTimeWarnAnim: function playTimeWarnAnim() {
    // TODO 初始化当前的状态；
    this.timeAnim.play();
  },
  stopTimeWarnAnim: function stopTimeWarnAnim() {
    this.timeAnim.stop();
  },
  timeLabelInit: function timeLabelInit() {
    this.timeNode.active = false;
    this.timeNumLabel.string = 30;
    this.timeNode.getChildByName('num').setScale(1, 1);
  },
  gameStart: function gameStart() {
    // this.timeLabelInit();
    Game.GameManager.gameState = GameState.Play;
    this.countTime();

    if (GLB.isRoomOwner) {
      uiFunc.openUI('uiRoundTip', function (panel) {
        var uiRoundTip = panel.getComponent('uiRoundTip');
        uiRoundTip.setData(GLB.ROUND_TIP.SELF);
      });
    }
  },
  headColorInit: function headColorInit() {
    // 主机为红色方；
    var leftSprite, rightSprite;

    if (GLB.isRoomOwner) {
      leftSprite = this.redFlag;
      rightSprite = this.blueFlag;
      this.leftArrowSprite.spriteFrame = this.redArrow;
      this.rightArrowSprite.spriteFrame = this.blueArrow;
    } else {
      leftSprite = this.blueFlag;
      rightSprite = this.redFlag;
      this.leftArrowSprite.spriteFrame = this.blueArrow;
      this.rightArrowSprite.spriteFrame = this.redArrow;
    }

    this.leftBgSprite.spriteFrame = leftSprite;
    this.blueBgSprite.spriteFrame = rightSprite;
  },
  exit: function exit() {
    uiFunc.openUI("uiExit");
  },
  countTime: function countTime() {
    clearInterval(this.interval);
    if (!GLB.isRoomOwner || Game.GameManager.gameState !== GameState.Play) return;
    this.time = 30;
    this.countDownEvent();
    this.interval = setInterval(function () {
      this.time--;
      this.countDownEvent();

      if (this.time <= 0) {
        if (Game.GameManager.gameState === GameState.Play) {
          console.log('超时；获胜方====' + (this.playerFlag === GLB.PLAYER_FLAG.RED ? '蓝色' : '红色'));
          var winFlag = this.playerFlag === GLB.PLAYER_FLAG.RED ? GLB.PLAYER_FLAG.BLUE : GLB.PLAYER_FLAG.RED; // Game.GameManager.gameState = GameState.Over;

          var msg = {
            action: GLB.GAME_OVER_EVENT,
            winFlag: winFlag
          };
          Game.GameManager.sendEvent(msg);
          clientEvent.dispatch(clientEvent.eventType.gameOver, winFlag);
        }

        clearInterval(this.interval);
        this.interval = null;
      }
    }.bind(this), 1000);
  },
  countDownEvent: function countDownEvent() {
    var msg = {
      action: GLB.COUNT_TIME,
      flag: this.playerFlag,
      time: this.time
    };
    Game.GameManager.sendEventEx(msg);
  },
  changeFlag: function changeFlag() {
    this.playerFlag === GLB.PLAYER_FLAG.RED ? this.playerFlag = GLB.PLAYER_FLAG.BLUE : this.playerFlag = GLB.PLAYER_FLAG.RED;
    this.getTurn(this.playerFlag);

    if (user.isMyTurn) {
      uiFunc.openUI('uiRoundTip', function (panel) {
        var uiRoundTip = panel.getComponent('uiRoundTip');
        uiRoundTip.setData(GLB.ROUND_TIP.SELF);
      });
    }

    this.countTime();
  },
  getTurn: function getTurn(flag) {
    // var flag = this.playerFlag;
    var preTurn = user.isMyTurn;

    if (GLB.isRoomOwner && flag === GLB.PLAYER_FLAG.RED) {
      user.isMyTurn = true;
    } else if (!GLB.isRoomOwner && flag === GLB.PLAYER_FLAG.BLUE) {
      user.isMyTurn = true;
    } else {
      user.isMyTurn = false;
    }

    if (preTurn === user.isMyTurn) return;
    this.showCurTurnLabel();
    this.timeNode.active = true;
  },
  showCurTurnLabel: function showCurTurnLabel() {
    if (user.isMyTurn) {
      this.timeLeftNode.active = true; // this.timeLeftNumNode.active = true;

      this.timeRightNode.active = false; // this.timeRightNumNode.active = false;
    } else {
      this.timeLeftNode.active = false; // this.timeLeftNumNode.active = false;

      this.timeRightNode.active = true; // this.timeRightNumNode.active = true;
    }
  },
  updateTime: function updateTime(param) {
    // if (Game.GameManager.gameState !== GameState.Play) return;
    var side = null;
    var time = param.time;

    if (time <= 5 && time > 0) {
      this.playTimeWarnAnim();
    }

    if (time <= 0) {
      this.stopTimeWarnAnim();
    }

    this.getTurn(param.flag);
    user.isMyTurn ? side = 'Left' : side = 'Right'; // var curNode = this['time' + side + 'NumNode'];
    // var label = curNode.getComponent(cc.Label);
    // label.string = time;

    this.timeNumLabel.string = time;
  },
  onDestroy: function onDestroy() {
    console.log('uiGamePanel onDestroy');
    clearInterval(this.interval);
    clientEvent.off(clientEvent.eventType.updateTime, this.updateTime, this);
    clientEvent.off(clientEvent.eventType.countTime, this.countTime, this);
    clientEvent.off(clientEvent.eventType.changeFlag, this.changeFlag, this);
    clientEvent.off(clientEvent.eventType.roundStart, this.roundStart, this);
    clientEvent.off(clientEvent.eventType.gameOver, this.gameOver, this);
    clientEvent.off(clientEvent.eventType.stopTimeWarnAnim, this.stopTimeWarnAnim, this);
  } // update (dt) {},

});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2Fzc2V0cy9jb21tb24vc2NyaXB0L2Fzc2V0cy9jb21tb24vc2NyaXB0L3VpR2FtZVBhbmVsLmpzIl0sIm5hbWVzIjpbIm12cyIsInJlcXVpcmUiLCJHTEIiLCJjYyIsIkNsYXNzIiwiQ29tcG9uZW50IiwicHJvcGVydGllcyIsInJlZEZsYWciLCJTcHJpdGVGcmFtZSIsImJsdWVGbGFnIiwicmVkQXJyb3ciLCJibHVlQXJyb3ciLCJvbkxvYWQiLCJsZWZ0QmdTcHJpdGUiLCJub2RlIiwiZ2V0Q2hpbGRCeU5hbWUiLCJnZXRDb21wb25lbnQiLCJTcHJpdGUiLCJibHVlQmdTcHJpdGUiLCJ0aW1lTm9kZSIsInRpbWVMZWZ0Tm9kZSIsInRpbWVSaWdodE5vZGUiLCJ0aW1lTGVmdFR4dCIsInRpbWVSaWdodFR4dCIsImxlZnRBcnJvd1Nwcml0ZSIsInJpZ2h0QXJyb3dTcHJpdGUiLCJ0aW1lTGVmdE51bU5vZGUiLCJ0aW1lUmlnaHROdW1Ob2RlIiwicmVhZHlOb2RlIiwidGltZU51bU5vZGUiLCJ0aW1lTnVtTGFiZWwiLCJMYWJlbCIsInRpbWVBbmltIiwiQW5pbWF0aW9uIiwicmVhZHlBbmltIiwib24iLCJnYW1lU3RhcnQiLCJzZWxmSWNvbiIsInJpdmFsSWNvbiIsImNsaWVudEV2ZW50IiwiZXZlbnRUeXBlIiwidXBkYXRlVGltZSIsImNvdW50VGltZSIsImNoYW5nZUZsYWciLCJyb3VuZFN0YXJ0IiwiZ2FtZU92ZXIiLCJzdG9wVGltZVdhcm5BbmltIiwicmVhZHlHb0F1ZGlvIiwiQXVkaW9Tb3VyY2UiLCJzZXRQaWN0dXJlIiwicmVkRmxhZ1VybCIsInVybCIsInJhdyIsImJsdWVGbGFnVXJsIiwicmVkQXJyb3dVcmwiLCJibHVlQXJyb3dVcmwiLCJzZXRIZWFkSWNvbiIsInNldERhdGEiLCJpZCIsInBsYXllclVzZXJJZHMiLCJzZXRUaW1lTnVtRm9udCIsImNsZWFySW50ZXJ2YWwiLCJpbnRlcnZhbCIsImZvbnRTaXplIiwiY29uc29sZSIsImxvZyIsInRpbWVMYWJlbEluaXQiLCJwbGF5ZXJGbGFnIiwiUExBWUVSX0ZMQUciLCJSRUQiLCJ1c2VyIiwiaW5pdCIsImhlYWRDb2xvckluaXQiLCJkaXNwYXRjaCIsImdldE1hcCIsInBsYXlSZWFkeUdvIiwicGxheSIsInBsYXlUaW1lV2FybkFuaW0iLCJzdG9wIiwiYWN0aXZlIiwic3RyaW5nIiwic2V0U2NhbGUiLCJHYW1lIiwiR2FtZU1hbmFnZXIiLCJnYW1lU3RhdGUiLCJHYW1lU3RhdGUiLCJQbGF5IiwiaXNSb29tT3duZXIiLCJ1aUZ1bmMiLCJvcGVuVUkiLCJwYW5lbCIsInVpUm91bmRUaXAiLCJST1VORF9USVAiLCJTRUxGIiwibGVmdFNwcml0ZSIsInJpZ2h0U3ByaXRlIiwic3ByaXRlRnJhbWUiLCJleGl0IiwidGltZSIsImNvdW50RG93bkV2ZW50Iiwic2V0SW50ZXJ2YWwiLCJ3aW5GbGFnIiwiQkxVRSIsIm1zZyIsImFjdGlvbiIsIkdBTUVfT1ZFUl9FVkVOVCIsInNlbmRFdmVudCIsImJpbmQiLCJDT1VOVF9USU1FIiwiZmxhZyIsInNlbmRFdmVudEV4IiwiZ2V0VHVybiIsImlzTXlUdXJuIiwicHJlVHVybiIsInNob3dDdXJUdXJuTGFiZWwiLCJwYXJhbSIsInNpZGUiLCJvbkRlc3Ryb3kiLCJvZmYiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUFqQjs7QUFDQSxJQUFJQyxHQUFHLEdBQUdELE9BQU8sQ0FBQyxLQUFELENBQWpCOztBQUdBRSxFQUFFLENBQUNDLEtBQUgsQ0FBUztBQUNMLGFBQVNELEVBQUUsQ0FBQ0UsU0FEUDtBQUdMQyxFQUFBQSxVQUFVLEVBQUU7QUFDUkMsSUFBQUEsT0FBTyxFQUFFSixFQUFFLENBQUNLLFdBREo7QUFFUkMsSUFBQUEsUUFBUSxFQUFFTixFQUFFLENBQUNLLFdBRkw7QUFHUkUsSUFBQUEsUUFBUSxFQUFFUCxFQUFFLENBQUNLLFdB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Li4vLi4vYXNzZXRzL2NvbW1vbi9zY3JpcHQiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbXZzID0gcmVxdWlyZShcIk1hdGNodnNcIik7XG52YXIgR0xCID0gcmVxdWlyZShcIkdsYlwiKTtcblxuXG5jYy5DbGFzcyh7XG4gICAgZXh0ZW5kczogY2MuQ29tcG9uZW50LFxuXG4gICAgcHJvcGVydGllczoge1xuICAgICAgICByZWRGbGFnOiBjYy5TcHJpdGVGcmFtZSxcbiAgICAgICAgYmx1ZUZsYWc6IGNjLlNwcml0ZUZyYW1lLFxuICAgICAgICByZWRBcnJvdzogY2MuU3ByaXRlRnJhbWUsXG4gICAgICAgIGJsdWVBcnJvdzogY2MuU3ByaXRlRnJhbWVcbiAgICB9LFxuXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XG5cbiAgICBvbkxvYWQgKCkge1xuICAgICAgICAvLyB0aGlzLnNldFBpY3R1cmUoKTtcbiAgICAgICAgLy8gdGhpcy5sZWZ0QmdTcHJpdGUgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoJ2JnSW1nJykuZ2V0Q2hpbGRCeU5hbWUoJ2NvbG9ySW1nJykuZ2V0Q2hpbGRCeU5hbWUoJ2xlZnQnKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKTtcbiAgICAgICAgLy8gdGhpcy5ibHVlQmdTcHJpdGUgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoJ2JnSW1nJykuZ2V0Q2hpbGRCeU5hbWUoJ2NvbG9ySW1nJykuZ2V0Q2hpbGRCeU5hbWUoJ3JpZ2h0JykuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSk7XG4gICAgICAgIHRoaXMubGVmdEJnU3ByaXRlID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKCdoZWFkSW1nJykuZ2V0Q2hpbGRCeU5hbWUoJ2ltZ0JnTGVmdCcpLmdldENvbXBvbmVudChjYy5TcHJpdGUpO1xuICAgICAgICB0aGlzLmJsdWVCZ1Nwcml0ZSA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZSgnaGVhZEltZycpLmdldENoaWxkQnlOYW1lKCdpbWdCZ1JpZ2h0JykuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSk7XG4gICAgICAgIHRoaXMudGltZU5vZGUgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoJ3RpbWUnKTtcbiAgICAgICAgdGhpcy50aW1lTGVmdE5vZGUgPSB0aGlzLnRpbWVOb2RlLmdldENoaWxkQnlOYW1lKCdsZWZ0Jyk7XG4gICAgICAgIHRoaXMudGltZVJpZ2h0Tm9kZSA9IHRoaXMudGltZU5vZGUuZ2V0Q2hpbGRCeU5hbWUoJ3JpZ2h0Jyk7XG4gICAgICAgIHRoaXMudGltZUxlZnRUeHQgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoJ2xlZnRUaW1lVHh0Jyk7XG4gICAgICAgIHRoaXMudGltZVJpZ2h0VHh0ID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKCdyaWdodFRpbWVUeHQnKTtcbiAgICAgICAgdGhpcy5sZWZ0QXJyb3dTcHJpdGUgPSB0aGlzLnRpbWVMZWZ0Tm9kZS5nZXRDaGlsZEJ5TmFtZSgnamlhbnRvdScpLmdldENvbXBvbmVudChjYy5TcHJpdGUpO1xuICAgICAgICB0aGlzLnJpZ2h0QXJyb3dTcHJpdGUgPSB0aGlzLnRpbWVSaWdodE5vZGUuZ2V0Q2hpbGRCeU5hbWUoJ2ppYW50b3UnKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKTtcbiAgICAgICAgdGhpcy50aW1lTGVmdE51bU5vZGUgPSB0aGlzLnRpbWVOb2RlLmdldENoaWxkQnlOYW1lKCdsZWZ0VGltZU51bScpO1xuICAgICAgICB0aGlzLnRpbWVSaWdodE51bU5vZGUgPSB0aGlzLnRpbWVOb2RlLmdldENoaWxkQnlOYW1lKCdyaWdodFRpbWVOdW0nKTtcbiAgICAgICAgdGhpcy5yZWFkeU5vZGUgPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoJ3JlYWR5R28nKTtcbiAgICAgICAgdGhpcy50aW1lTnVtTm9kZSA9IHRoaXMudGltZU5vZGUuZ2V0Q2hpbGRCeU5hbWUoJ251bScpO1xuICAgICAgICB0aGlzLnRpbWVOdW1MYWJlbCA9IHRoaXMudGltZU51bU5vZGUuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcbiAgICAgICAgdGhpcy50aW1lQW5pbSA9IHRoaXMudGltZU51bU5vZGUuZ2V0Q29tcG9uZW50KGNjLkFuaW1hdGlvbik7XG4gICAgICAgIHRoaXMucmVhZHlBbmltID0gdGhpcy5yZWFkeU5vZGUuZ2V0Q29tcG9uZW50KGNjLkFuaW1hdGlvbik7XG4gICAgICAgIHRoaXMucmVhZHlBbmltLm9uKCdmaW5pc2hlZCcsIHRoaXMuZ2FtZVN0YXJ0LCB0aGlzKTtcbiAgICAgICAgdGhpcy5zZWxmSWNvbiA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZSgnaGVhZEltZycpLmdldENoaWxkQnlOYW1lKCdsZWZ0SW1nTWFzaycpLmdldENoaWxkQnlOYW1lKCdsZWZ0SW1nJyk7XG4gICAgICAgIHRoaXMucml2YWxJY29uID0gdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKCdoZWFkSW1nJykuZ2V0Q2hpbGRCeU5hbWUoJ3JpZ2h0SW1nTWFzaycpLmdldENoaWxkQnlOYW1lKCdyaWdodEltZycpO1xuICAgICAgICBjbGllbnRFdmVudC5vbihjbGllbnRFdmVudC5ldmVudFR5cGUudXBkYXRlVGltZSwgdGhpcy51cGRhdGVUaW1lLCB0aGlzKTtcbiAgICAgICAgY2xpZW50RXZlbnQub24oY2xpZW50RXZlbnQuZXZlbnRUeXBlLmNvdW50VGltZSwgdGhpcy5jb3VudFRpbWUsIHRoaXMpO1xuICAgICAgICBjbGllbnRFdmVudC5vbihjbGllbnRFdmVudC5ldmVudFR5cGUuY2hhbmdlRmxhZywgdGhpcy5jaGFuZ2VGbGFnLCB0aGlzKTtcbiAgICAgICAgY2xpZW50RXZlbnQub24oY2xpZW50RXZlbnQuZXZlbnRUeXBlLnJvdW5kU3RhcnQsIHRoaXMucm91bmRTdGFydCwgdGhpcyk7XG4gICAgICAgIGNsaWVudEV2ZW50Lm9uKGNsaWVudEV2ZW50LmV2ZW50VHlwZS5nYW1lT3ZlciwgdGhpcy5nYW1lT3ZlciwgdGhpcyk7XG4gICAgICAgIGNsaWVudEV2ZW50Lm9uKGNsaWVudEV2ZW50LmV2ZW50VHlwZS5zdG9wVGltZVdhcm5BbmltLCB0aGlzLnN0b3BUaW1lV2FybkFuaW0sIHRoaXMpO1xuICAgICAgICB0aGlzLnJlYWR5R29BdWRpbyA9IHRoaXMucmVhZHlOb2RlLmdldENvbXBvbmVudChjYy5BdWRpb1NvdXJjZSk7XG4gICAgfSxcblxuICAgIHNldFBpY3R1cmUgKCkge1xuICAgICAgICAgdmFyIHJlZEZsYWdVcmwgPSBjYy51cmwucmF3KFwicmVzb3VyY2VzL3BpY3R1cmUvYW5pbWFsL1wiICsgXCJyZWRIZWFkXCIgKyBcIi5wbmdcIik7XG4gICAgICAgICB0aGlzLnJlZEZsYWcgPSBuZXcgY2MuU3ByaXRlRnJhbWUocmVkRmxhZ1VybCk7XG4gICAgICAgICB2YXIgYmx1ZUZsYWdVcmwgPSBjYy51cmwucmF3KFwicmVzb3VyY2VzL3BpY3R1cmUvYW5pbWFsL1wiICsgXCJibHVlSGVhZFwiICsgXCIucG5nXCIpO1xuICAgICAgICAgdGhpcy5ibHVlRmxhZyA9IG5ldyBjYy5TcHJpdGVGcmFtZShibHVlRmxhZ1VybCk7XG4gICAgICAgICB2YXIgcmVkQXJyb3dVcmwgPSBjYy51cmwucmF3KFwicmVzb3VyY2VzL3BpY3R1cmUvYW5pbWFsL1wiICsgXCJyZWRUaW1lXCIgKyBcIi5wbmdcIik7XG4gICAgICAgICB0aGlzLnJlZEFycm93ID0gbmV3IGNjLlNwcml0ZUZyYW1lKHJlZEFycm93VXJsKTtcbiAgICAgICAgIHZhciBibHVlQXJyb3dVcmwgPSBjYy51cmwucmF3KFwicmVzb3VyY2VzL3BpY3R1cmUvYW5pbWFsL1wiICsgXCJibHVlVGltZVwiICsgXCIucG5nXCIpO1xuICAgICAgICAgdGhpcy5ibHVlQXJyb3cgPSBuZXcgY2MuU3ByaXRlRnJhbWUoYmx1ZUFycm93VXJsKTtcbiAgICB9LFxuXG4gICAgc2V0SGVhZEljb24gKCkge1xuICAgICAgICB0aGlzLnNlbGZJY29uLmdldENvbXBvbmVudCgncGxheWVySWNvbicpLnNldERhdGEoe2lkOiBHTEIucGxheWVyVXNlcklkc1swXX0pO1xuICAgICAgICB0aGlzLnJpdmFsSWNvbi5nZXRDb21wb25lbnQoJ3BsYXllckljb24nKS5zZXREYXRhKHtpZDogR0xCLnBsYXllclVzZXJJZHNbMV19KTtcbiAgICB9LFxuXG4gICAgZ2FtZU92ZXIgKCkge1xuICAgICAgICB0aGlzLnN0b3BUaW1lV2FybkFuaW0oKTtcbiAgICAgICAgdGhpcy5zZXRUaW1lTnVtRm9udCgpO1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xuICAgIH0sXG5cbiAgICBzZXRUaW1lTnVtRm9udCAoKSB7XG4gICAgICAgIHRoaXMudGltZU51bUxhYmVsLmZvbnRTaXplID0gMzU7XG4gICAgfSxcblxuICAgIHJvdW5kU3RhcnQgKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnLS0tLS0tcm91bmRTdGFydC0tLS0tLScpXG4gICAgICAgIHRoaXMudGltZUxhYmVsSW5pdCgpO1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xuICAgICAgICB0aGlzLnBsYXllckZsYWcgPSBHTEIuUExBWUVSX0ZMQUcuUkVEO1xuICAgICAgICAvLyB0aGlzLmdldFR1cm4odGhpcy5wbGF5ZXJGbGFnKTtcbiAgICAgICAgdXNlci5pbml0KCk7XG4gICAgICAgIHRoaXMuaGVhZENvbG9ySW5pdCgpO1xuICAgICAgICBjbGllbnRFdmVudC5kaXNwYXRjaChjbGllbnRFdmVudC5ldmVudFR5cGUuZ2V0TWFwKTtcbiAgICAgICAgdGhpcy5wbGF5UmVhZHlHbygpO1xuICAgICAgICB0aGlzLnNldFRpbWVOdW1Gb250KCk7XG4gICAgICAgIHRoaXMuc2V0SGVhZEljb24oKTtcbiAgICB9LFxuXG4gICAgcGxheVJlYWR5R28oKSB7XG4gICAgICAgIHRoaXMucmVhZHlBbmltLnBsYXkoKTtcbiAgICAgICAgdGhpcy5yZWFkeUdvQXVkaW8ucGxheSgpO1xuICAgIH0sXG5cbiAgICBwbGF5VGltZVdhcm5BbmltICgpIHtcbiAgICAgICAgLy8gVE9ETyDliJ3lp4vljJblvZPliY3nmoTnirbmgIHvvJtcbiAgICAgICAgdGhpcy50aW1lQW5pbS5wbGF5KCk7XG4gICAgfSxcblxuICAgIHN0b3BUaW1lV2FybkFuaW0gKCkge1xuICAgICAgICB0aGlzLnRpbWVBbmltLnN0b3AoKTtcbiAgICB9LFxuXG4gICAgdGltZUxhYmVsSW5pdCAoKSB7XG4gICAgICAgIHRoaXMudGltZU5vZGUuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMudGltZU51bUxhYmVsLnN0cmluZyA9IDMwO1xuICAgICAgICB0aGlzLnRpbWVOb2RlLmdldENoaWxkQnlOYW1lKCdudW0nKS5zZXRTY2FsZSgxLDEpO1xuICAgIH0sXG5cbiAgICBnYW1lU3RhcnQgKCkge1xuXG4gICAgICAgIC8vIHRoaXMudGltZUxhYmVsSW5pdCgpO1xuICAgICAgICBHYW1lLkdhbWVNYW5hZ2VyLmdhbWVTdGF0ZSA9IEdhbWVTdGF0ZS5QbGF5O1xuICAgICAgICB0aGlzLmNvdW50VGltZSgpO1xuICAgICAgICBpZiAoR0xCLmlzUm9vbU93bmVyKSB7XG4gICAgICAgICAgICB1aUZ1bmMub3BlblVJKCd1aVJvdW5kVGlwJywgZnVuY3Rpb24gKHBhbmVsKSB7XG4gICAgICAgICAgICAgICAgdmFyIHVpUm91bmRUaXAgPSBwYW5lbC5nZXRDb21wb25lbnQoJ3VpUm91bmRUaXAnKTtcbiAgICAgICAgICAgICAgICB1aVJvdW5kVGlwLnNldERhdGEoR0xCLlJPVU5EX1RJUC5TRUxGKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgaGVhZENvbG9ySW5pdCAoKSB7XG4gICAgICAgIC8vIOS4u+acuuS4uue6ouiJsuaWue+8m1xuICAgICAgICB2YXIgbGVmdFNwcml0ZSxyaWdodFNwcml0ZTtcbiAgICAgICAgaWYgKEdMQi5pc1Jvb21Pd25lcikge1xuICAgICAgICAgICAgbGVmdFNwcml0ZSA9IHRoaXMucmVkRmxhZztcbiAgICAgICAgICAgIHJpZ2h0U3ByaXRlID0gdGhpcy5ibHVlRmxhZztcbiAgICAgICAgICAgIHRoaXMubGVmdEFycm93U3ByaXRlLnNwcml0ZUZyYW1lID0gdGhpcy5yZWRBcnJvdztcbiAgICAgICAgICAgIHRoaXMucmlnaHRBcnJvd1Nwcml0ZS5zcHJpdGVGcmFtZSA9IHRoaXMuYmx1ZUFycm93O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGVmdFNwcml0ZSA9IHRoaXMuYmx1ZUZsYWc7XG4gICAgICAgICAgICByaWdodFNwcml0ZSA9IHRoaXMucmVkRmxhZztcbiAgICAgICAgICAgIHRoaXMubGVmdEFycm93U3ByaXRlLnNwcml0ZUZyYW1lID0gdGhpcy5ibHVlQXJyb3c7XG4gICAgICAgICAgICB0aGlzLnJpZ2h0QXJyb3dTcHJpdGUuc3ByaXRlRnJhbWUgPSB0aGlzLnJlZEFycm93O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGVmdEJnU3ByaXRlLnNwcml0ZUZyYW1lID0gbGVmdFNwcml0ZTtcbiAgICAgICAgdGhpcy5ibHVlQmdTcHJpdGUuc3ByaXRlRnJhbWUgPSByaWdodFNwcml0ZTtcbiAgICB9LFxuXG4gICAgZXhpdCgpIHtcbiAgICAgICAgdWlGdW5jLm9wZW5VSShcInVpRXhpdFwiKTtcbiAgICB9LFxuXG4gICAgY291bnRUaW1lICgpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTtcbiAgICAgICAgaWYgKCFHTEIuaXNSb29tT3duZXIgfHwgR2FtZS5HYW1lTWFuYWdlci5nYW1lU3RhdGUgIT09IEdhbWVTdGF0ZS5QbGF5KSByZXR1cm47XG4gICAgICAgIHRoaXMudGltZSA9IDMwO1xuICAgICAgICB0aGlzLmNvdW50RG93bkV2ZW50KCk7XG4gICAgICAgIHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMudGltZS0tO1xuICAgICAgICAgICAgdGhpcy5jb3VudERvd25FdmVudCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMudGltZSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKEdhbWUuR2FtZU1hbmFnZXIuZ2FtZVN0YXRlID09PSBHYW1lU3RhdGUuUGxheSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn6LaF5pe277yb6I636IOc5pa5PT09PScgKyAodGhpcy5wbGF5ZXJGbGFnID09PSBHTEIuUExBWUVSX0ZMQUcuUkVEID8gJ+iTneiJsic6J+e6ouiJsicpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdpbkZsYWcgPSB0aGlzLnBsYXllckZsYWcgPT09IEdMQi5QTEFZRVJfRkxBRy5SRUQgPyBHTEIuUExBWUVSX0ZMQUcuQkxVRSA6IEdMQi5QTEFZRVJfRkxBRy5SRURcbiAgICAgICAgICAgICAgICAgICAgLy8gR2FtZS5HYW1lTWFuYWdlci5nYW1lU3RhdGUgPSBHYW1lU3RhdGUuT3ZlcjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1zZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogR0xCLkdBTUVfT1ZFUl9FVkVOVCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbkZsYWc6IHdpbkZsYWdcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBHYW1lLkdhbWVNYW5hZ2VyLnNlbmRFdmVudChtc2cpO1xuICAgICAgICAgICAgICAgICAgICBjbGllbnRFdmVudC5kaXNwYXRjaChjbGllbnRFdmVudC5ldmVudFR5cGUuZ2FtZU92ZXIsIHdpbkZsYWcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJ2YWwgPSBudWxsO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSwgMTAwMCk7XG4gICAgfSxcblxuICAgIGNvdW50RG93bkV2ZW50ICgpIHtcbiAgICAgICAgdmFyIG1zZyA9IHthY3Rpb246IEdMQi5DT1VOVF9USU1FLCBmbGFnOiB0aGlzLnBsYXllckZsYWcsIHRpbWU6IHRoaXMudGltZX07XG4gICAgICAgIEdhbWUuR2FtZU1hbmFnZXIuc2VuZEV2ZW50RXgobXNnKTtcbiAgICB9LFxuXG4gICAgY2hhbmdlRmxhZyAoKSB7XG4gICAgICAgIHRoaXMucGxheWVyRmxhZyA9PT0gR0xCLlBMQVlFUl9GTEFHLlJFRCA/IHRoaXMucGxheWVyRmxhZyA9IEdMQi5QTEFZRVJfRkxBRy5CTFVFIDp0aGlzLnBsYXllckZsYWcgPSBHTEIuUExBWUVSX0ZMQUcuUkVEO1xuICAgICAgICB0aGlzLmdldFR1cm4odGhpcy5wbGF5ZXJGbGFnKTtcbiAgICAgICAgaWYgKHVzZXIuaXNNeVR1cm4pIHtcbiAgICAgICAgICAgIHVpRnVuYy5vcGVuVUkoJ3VpUm91bmRUaXAnLCBmdW5jdGlvbiAocGFuZWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgdWlSb3VuZFRpcCA9IHBhbmVsLmdldENvbXBvbmVudCgndWlSb3VuZFRpcCcpO1xuICAgICAgICAgICAgICAgIHVpUm91bmRUaXAuc2V0RGF0YShHTEIuUk9VTkRfVElQLlNFTEYpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvdW50VGltZSgpO1xuICAgIH0sXG5cbiAgICBnZXRUdXJuIChmbGFnKSB7XG4gICAgICAgIC8vIHZhciBmbGFnID0gdGhpcy5wbGF5ZXJGbGFnO1xuICAgICAgICB2YXIgcHJlVHVybiA9IHVzZXIuaXNNeVR1cm47XG4gICAgICAgIGlmKEdMQi5pc1Jvb21Pd25lciAmJiBmbGFnID09PSBHTEIuUExBWUVSX0ZMQUcuUkVEKSB7XG4gICAgICAgICAgICB1c2VyLmlzTXlUdXJuID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmKCFHTEIuaXNSb29tT3duZXIgJiYgZmxhZyA9PT0gR0xCLlBMQVlFUl9GTEFHLkJMVUUpe1xuICAgICAgICAgICAgdXNlci5pc015VHVybiA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB1c2VyLmlzTXlUdXJuID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZVR1cm4gPT09IHVzZXIuaXNNeVR1cm4pIHJldHVybjtcbiAgICAgICAgdGhpcy5zaG93Q3VyVHVybkxhYmVsKCk7XG4gICAgICAgIHRoaXMudGltZU5vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICB9LFxuXG4gICAgc2hvd0N1clR1cm5MYWJlbCAoKSB7XG4gICAgICAgIGlmICh1c2VyLmlzTXlUdXJuKSB7XG4gICAgICAgICAgICB0aGlzLnRpbWVMZWZ0Tm9kZS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgLy8gdGhpcy50aW1lTGVmdE51bU5vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMudGltZVJpZ2h0Tm9kZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIHRoaXMudGltZVJpZ2h0TnVtTm9kZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudGltZUxlZnROb2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gdGhpcy50aW1lTGVmdE51bU5vZGUuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnRpbWVSaWdodE5vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgLy8gdGhpcy50aW1lUmlnaHROdW1Ob2RlLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdXBkYXRlVGltZSAocGFyYW0pIHtcbiAgICAgICAgLy8gaWYgKEdhbWUuR2FtZU1hbmFnZXIuZ2FtZVN0YXRlICE9PSBHYW1lU3RhdGUuUGxheSkgcmV0dXJuO1xuICAgICAgICB2YXIgc2lkZSA9IG51bGw7XG4gICAgICAgIHZhciB0aW1lID0gcGFyYW0udGltZTtcbiAgICAgICAgaWYgKHRpbWUgPD0gNSAmJiB0aW1lID4gMCkge1xuICAgICAgICAgICAgdGhpcy5wbGF5VGltZVdhcm5BbmltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbWUgPD0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdG9wVGltZVdhcm5BbmltKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nZXRUdXJuKHBhcmFtLmZsYWcpO1xuICAgICAgICB1c2VyLmlzTXlUdXJuID8gc2lkZSA9ICdMZWZ0JyA6IHNpZGUgPSAnUmlnaHQnO1xuICAgICAgICAvLyB2YXIgY3VyTm9kZSA9IHRoaXNbJ3RpbWUnICsgc2lkZSArICdOdW1Ob2RlJ107XG4gICAgICAgIC8vIHZhciBsYWJlbCA9IGN1ck5vZGUuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcbiAgICAgICAgLy8gbGFiZWwuc3RyaW5nID0gdGltZTtcbiAgICAgICAgdGhpcy50aW1lTnVtTGFiZWwuc3RyaW5nID0gdGltZTtcbiAgICB9LFxuXG4gICAgb25EZXN0cm95ICgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3VpR2FtZVBhbmVsIG9uRGVzdHJveScpO1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xuICAgICAgICBjbGllbnRFdmVudC5vZmYoY2xpZW50RXZlbnQuZXZlbnRUeXBlLnVwZGF0ZVRpbWUsIHRoaXMudXBkYXRlVGltZSwgdGhpcyk7XG4gICAgICAgIGNsaWVudEV2ZW50Lm9mZihjbGllbnRFdmVudC5ldmVudFR5cGUuY291bnRUaW1lLCB0aGlzLmNvdW50VGltZSwgdGhpcyk7XG4gICAgICAgIGNsaWVudEV2ZW50Lm9mZihjbGllbnRFdmVudC5ldmVudFR5cGUuY2hhbmdlRmxhZywgdGhpcy5jaGFuZ2VGbGFnLCB0aGlzKTtcbiAgICAgICAgY2xpZW50RXZlbnQub2ZmKGNsaWVudEV2ZW50LmV2ZW50VHlwZS5yb3VuZFN0YXJ0LCB0aGlzLnJvdW5kU3RhcnQsIHRoaXMpO1xuICAgICAgICBjbGllbnRFdmVudC5vZmYoY2xpZW50RXZlbnQuZXZlbnRUeXBlLmdhbWVPdmVyLCB0aGlzLmdhbWVPdmVyLCB0aGlzKTtcbiAgICAgICAgY2xpZW50RXZlbnQub2ZmKGNsaWVudEV2ZW50LmV2ZW50VHlwZS5zdG9wVGltZVdhcm5BbmltLCB0aGlzLnN0b3BUaW1lV2FybkFuaW0sIHRoaXMpO1xuICAgIH1cbiAgICAvLyB1cGRhdGUgKGR0KSB7fSxcbn0pO1xuIl19