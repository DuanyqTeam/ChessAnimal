
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/common/script/uiMatching.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0ed973gS6lPR6SESc7jLFB6', 'uiMatching');
// common/script/uiMatching.js

"use strict";

var uiPanel = require("uiPanel");

var mvs = require("Matchvs");

var GLB = require("Glb");

cc.Class({
  "extends": uiPanel,
  properties: {},
  onLoad: function onLoad() {
    this._super();

    GLB.isRoomOwner = false;
    this.playerIcons = [];
    this.playerModel = this.nodeDict["playerIcon"];
    this.playerModel.active = false;

    for (var i = 0; i < GLB.MAX_PLAYER_COUNT; i++) {
      var playerTemp = cc.instantiate(this.playerModel);
      playerTemp.active = true;
      this.nodeDict["playerLayout"].addChild(playerTemp);
      playerTemp.position = cc.v2(0, 0);
      this.playerIcons.push(playerTemp);
    }

    this.nodeDict["quit"].on("click", this.leaveRoom, this);
    clientEvent.on(clientEvent.eventType.joinRoomResponse, this.joinRoomResponse, this);
    clientEvent.on(clientEvent.eventType.joinRoomNotify, this.joinRoomNotify, this);
    clientEvent.on(clientEvent.eventType.leaveRoomResponse, this.leaveRoomResponse, this);
    clientEvent.on(clientEvent.eventType.leaveRoomNotify, this.leaveRoomNotify, this);
    clientEvent.on(clientEvent.eventType.joinOverResponse, this.joinOverResponse, this);
  },
  joinRandomRoom: function joinRandomRoom() {
    var result = null;

    if (GLB.matchType === GLB.RANDOM_MATCH) {
      result = mvs.engine.joinRandomRoom(GLB.MAX_PLAYER_COUNT, '');

      if (result !== 0) {
        console.log('进入房间失败,错误码:' + result);
      }
    } else if (GLB.matchType === GLB.PROPERTY_MATCH) {
      var matchinfo = new mvs.MatchInfo();
      matchinfo.maxPlayer = GLB.MAX_PLAYER_COUNT;
      matchinfo.mode = 0;
      matchinfo.canWatch = 0;
      matchinfo.tags = GLB.tagsInfo;
      result = mvs.engine.joinRoomWithProperties(matchinfo, "joinRoomWithProperties");

      if (result !== 0) {
        console.log('进入房间失败,错误码:' + result);
      }
    }
  },
  startGame: function startGame() {
    console.log('游戏即将开始');
    cc.director.loadScene('game');
  },
  joinRoomResponse: function joinRoomResponse(data) {
    if (data.status !== 200) {
      console.log('进入房间失败,异步回调错误码: ' + data.status);
    } else {
      console.log('进入房间成功');
      console.log('房间号: ' + data.roomInfo.roomID);
    }

    GLB.roomId = data.roomInfo.roomID;
    var userIds = [GLB.userInfo.id];
    console.log('房间用户: ' + userIds);
    var playerIcon = null;

    for (var j = 0; j < data.roomUserInfoList.length; j++) {
      playerIcon = this.playerIcons[j].getComponent('playerIcon');

      if (playerIcon && !playerIcon.userInfo) {
        playerIcon.setData(data.roomUserInfoList[j]);

        if (GLB.userInfo.id !== data.roomUserInfoList[j].userId) {
          userIds.push(data.roomUserInfoList[j].userId);
        }
      }
    }

    for (var i = 0; i < this.playerIcons.length; i++) {
      playerIcon = this.playerIcons[i].getComponent('playerIcon');

      if (playerIcon && !playerIcon.userInfo) {
        playerIcon.setData(GLB.userInfo);
        break;
      }
    }

    GLB.playerUserIds = userIds;

    if (userIds.length >= GLB.MAX_PLAYER_COUNT) {
      var result = mvs.engine.joinOver("");
      console.log("发出关闭房间的通知");

      if (result !== 0) {
        console.log("关闭房间失败，错误码：", result);
      }

      GLB.playerUserIds = userIds;
    }
  },
  joinRoomNotify: function joinRoomNotify(data) {
    console.log("joinRoomNotify, roomUserInfo:" + JSON.stringify(data.roomUserInfo));
    var playerIcon = null;

    for (var j = 0; j < this.playerIcons.length; j++) {
      playerIcon = this.playerIcons[j].getComponent('playerIcon');

      if (playerIcon && !playerIcon.userInfo) {
        playerIcon.setData(data.roomUserInfo);
        break;
      }
    }
  },
  leaveRoom: function leaveRoom() {
    mvs.engine.leaveRoom("");
  },
  leaveRoomNotify: function leaveRoomNotify(data) {
    if (GLB.roomId === data.leaveRoomInfo.roomID) {
      for (var i = 0; i < this.playerIcons.length; i++) {
        var playerIcon = this.playerIcons[i].getComponent('playerIcon');

        if (playerIcon && playerIcon.userInfo && playerIcon.playerId === data.leaveRoomInfo.userId) {
          playerIcon.init();
          break;
        }
      }
    }
  },
  leaveRoomResponse: function leaveRoomResponse(data) {
    if (data.leaveRoomRsp.status === 200) {
      console.log("离开房间成功");

      for (var i = 0; i < this.playerIcons.length; i++) {
        var playerIcon = this.playerIcons[i].getComponent('playerIcon');

        if (playerIcon) {
          playerIcon.init();
          break;
        }
      }

      uiFunc.closeUI(this.node.name);
      this.node.destroy();
    } else {
      console.log("离开房间失败");
    }
  },
  joinOverResponse: function joinOverResponse(data) {
    if (data.joinOverRsp.status === 200) {
      console.log("关闭房间成功");
      this.notifyGameStart();
    } else {
      console.log("关闭房间失败，回调通知错误码：", data.joinOverRsp.status);
    }
  },
  notifyGameStart: function notifyGameStart() {
    GLB.isRoomOwner = true;
    var msg = {
      action: GLB.GAME_START_EVENT,
      userIds: GLB.playerUserIds
    };
    Game.GameManager.sendEventEx(msg);
  },
  onDestroy: function onDestroy() {
    clientEvent.off(clientEvent.eventType.joinRoomResponse, this.joinRoomResponse, this);
    clientEvent.off(clientEvent.eventType.joinRoomNotify, this.joinRoomNotify, this);
    clientEvent.off(clientEvent.eventType.leaveRoomResponse, this.leaveRoomResponse, this);
    clientEvent.off(clientEvent.eventType.leaveRoomNotify, this.leaveRoomNotify, this);
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL2Fzc2V0cy9jb21tb24vc2NyaXB0L2Fzc2V0cy9jb21tb24vc2NyaXB0L3VpTWF0Y2hpbmcuanMiXSwibmFtZXMiOlsidWlQYW5lbCIsInJlcXVpcmUiLCJtdnMiLCJHTEIiLCJjYyIsIkNsYXNzIiwicHJvcGVydGllcyIsIm9uTG9hZCIsIl9zdXBlciIsImlzUm9vbU93bmVyIiwicGxheWVySWNvbnMiLCJwbGF5ZXJNb2RlbCIsIm5vZGVEaWN0IiwiYWN0aXZlIiwiaSIsIk1BWF9QTEFZRVJfQ09VTlQiLCJwbGF5ZXJUZW1wIiwiaW5zdGFudGlhdGUiLCJhZGRDaGlsZCIsInBvc2l0aW9uIiwidjIiLCJwdXNoIiwib24iLCJsZWF2ZVJvb20iLCJjbGllbnRFdmVudCIsImV2ZW50VHlwZSIsImpvaW5Sb29tUmVzcG9uc2UiLCJqb2luUm9vbU5vdGlmeSIsImxlYXZlUm9vbVJlc3BvbnNlIiwibGVhdmVSb29tTm90aWZ5Iiwiam9pbk92ZXJSZXNwb25zZSIsImpvaW5SYW5kb21Sb29tIiwicmVzdWx0IiwibWF0Y2hUeXBlIiwiUkFORE9NX01BVENIIiwiZW5naW5lIiwiY29uc29sZSIsImxvZyIsIlBST1BFUlRZX01BVENIIiwibWF0Y2hpbmZvIiwiTWF0Y2hJbmZvIiwibWF4UGxheWVyIiwibW9kZSIsImNhbldhdGNoIiwidGFncyIsInRhZ3NJbmZvIiwiam9pblJvb21XaXRoUHJvcGVydGllcyIsInN0YXJ0R2FtZSIsImRpcmVjdG9yIiwibG9hZFNjZW5lIiwiZGF0YSIsInN0YXR1cyIsInJvb21JbmZvIiwicm9vbUlEIiwicm9vbUlkIiwidXNlcklkcyIsInVzZXJJbmZvIiwiaWQiLCJwbGF5ZXJJY29uIiwiaiIsInJvb21Vc2VySW5mb0xpc3QiLCJsZW5ndGgiLCJnZXRDb21wb25lbnQiLCJzZXREYXRhIiwidXNlcklkIiwicGxheWVyVXNlcklkcyIsImpvaW5PdmVyIiwiSlNPTiIsInN0cmluZ2lmeSIsInJvb21Vc2VySW5mbyIsImxlYXZlUm9vbUluZm8iLCJwbGF5ZXJJZCIsImluaXQiLCJsZWF2ZVJvb21Sc3AiLCJ1aUZ1bmMiLCJjbG9zZVVJIiwibm9kZSIsIm5hbWUiLCJkZXN0cm95Iiwiam9pbk92ZXJSc3AiLCJub3RpZnlHYW1lU3RhcnQiLCJtc2ciLCJhY3Rpb24iLCJHQU1FX1NUQVJUX0VWRU5UIiwiR2FtZSIsIkdhbWVNYW5hZ2VyIiwic2VuZEV2ZW50RXgiLCJvbkRlc3Ryb3kiLCJvZmYiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUFyQjs7QUFDQSxJQUFJQyxHQUFHLEdBQUdELE9BQU8sQ0FBQyxTQUFELENBQWpCOztBQUNBLElBQUlFLEdBQUcsR0FBR0YsT0FBTyxDQUFDLEtBQUQsQ0FBakI7O0FBQ0FHLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTO0FBQ0wsYUFBU0wsT0FESjtBQUVMTSxFQUFBQSxVQUFVLEVBQUUsRUFGUDtBQUlMQyxFQUFBQSxNQUpLLG9CQUlJO0FBQ0wsU0FBS0MsTUFBTDs7QUFDQUwsSUFBQUEsR0FBRyxDQUFDTSxXQUFKLEdBQWtCLEtBQWxCO0FBQ0EsU0FBS0MsV0FBTCxHQUFtQixFQUFuQjtBQUNBLFNBQUtDLFdBQUwsR0FBbUIsS0FBS0MsUUFBTCxDQUFjLFlBQWQsQ0FBbkI7QUFDQSxTQUFLRCxXQUFMLENBQWlCRSxNQUFqQixHQUEwQixLQUExQjs7QUFDQSxTQUFLLElBQUlDLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdYLEdBQUcsQ0FBQ1ksZ0JBQXhCLEVBQTBDRCxDQUFDLEVBQTNDLEVBQStDO0FBQzNDLFVBQUlFLFVBQVUsR0FBR1osRUFBRSxDQUFDYSxXQUFILENBQWUsS0FBS04sV0FBcEIsQ0FBakI7QUFDQUssTUFBQUEsVUFBVSxDQUFDSCxNQUFYLEdBQW9CLElBQXBCO0FBQ0EsV0FBS0QsUUFBTCxDQUFjLGNBQWQsRUFBOEJNLFFBQTlCLENBQXVDRixVQUF2QztBQUNB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QmhFLFdBQVcsQ0FBQ0MsU0FBWixDQUFzQkMsZ0JBQXRDLEVBQXdELEtBQUtBLGdCQUE3RCxFQUErRSxJQUEvRTtBQUNBRixJQUFBQSxXQUFXLENBQUNnRSxHQUFaLENBQWdCaEUsV0FBVyxDQUFDQyxTQUFaLENBQXNCRSxjQUF0QyxFQUFzRCxLQUFLQSxjQUEzRCxFQUEyRSxJQUEzRTtBQUNBSCxJQUFBQSxXQUFXLENBQUNnRSxHQUFaLENBQWdCaEUsV0FBVyxDQUFDQyxTQUFaLENBQXNCRyxpQkFBdEMsRUFBeUQsS0FBS0EsaUJBQTlELEVBQWlGLElBQWpGO0FBQ0FKLElBQUFBLFdBQVcsQ0FBQ2dFLEdBQVosQ0FBZ0JoRSxXQUFXLENBQUNDLFNBQVosQ0FBc0JJLGVBQXRDLEVBQXVELEtBQUtBLGVBQTVELEVBQTZFLElBQTdFO0FBQ0g7QUFsS0ksQ0FBVCIsInNvdXJjZVJvb3QiOiIuLi8uLi8uLi8uLi8uLi9hc3NldHMvY29tbW9uL3NjcmlwdCIsInNvdXJjZXNDb250ZW50IjpbInZhciB1aVBhbmVsID0gcmVxdWlyZShcInVpUGFuZWxcIik7XG52YXIgbXZzID0gcmVxdWlyZShcIk1hdGNodnNcIik7XG52YXIgR0xCID0gcmVxdWlyZShcIkdsYlwiKTtcbmNjLkNsYXNzKHtcbiAgICBleHRlbmRzOiB1aVBhbmVsLFxuICAgIHByb3BlcnRpZXM6IHt9LFxuXG4gICAgb25Mb2FkKCkge1xuICAgICAgICB0aGlzLl9zdXBlcigpO1xuICAgICAgICBHTEIuaXNSb29tT3duZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wbGF5ZXJJY29ucyA9IFtdO1xuICAgICAgICB0aGlzLnBsYXllck1vZGVsID0gdGhpcy5ub2RlRGljdFtcInBsYXllckljb25cIl07XG4gICAgICAgIHRoaXMucGxheWVyTW9kZWwuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgR0xCLk1BWF9QTEFZRVJfQ09VTlQ7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBsYXllclRlbXAgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnBsYXllck1vZGVsKTtcbiAgICAgICAgICAgIHBsYXllclRlbXAuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubm9kZURpY3RbXCJwbGF5ZXJMYXlvdXRcIl0uYWRkQ2hpbGQocGxheWVyVGVtcCk7XG4gICAgICAgICAgICBwbGF5ZXJUZW1wLnBvc2l0aW9uID0gY2MudjIoMCwgMCk7XG4gICAgICAgICAgICB0aGlzLnBsYXllckljb25zLnB1c2gocGxheWVyVGVtcCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm5vZGVEaWN0W1wicXVpdFwiXS5vbihcImNsaWNrXCIsIHRoaXMubGVhdmVSb29tLCB0aGlzKTtcblxuICAgICAgICBjbGllbnRFdmVudC5vbihjbGllbnRFdmVudC5ldmVudFR5cGUuam9pblJvb21SZXNwb25zZSwgdGhpcy5qb2luUm9vbVJlc3BvbnNlLCB0aGlzKTtcbiAgICAgICAgY2xpZW50RXZlbnQub24oY2xpZW50RXZlbnQuZXZlbnRUeXBlLmpvaW5Sb29tTm90aWZ5LCB0aGlzLmpvaW5Sb29tTm90aWZ5LCB0aGlzKTtcbiAgICAgICAgY2xpZW50RXZlbnQub24oY2xpZW50RXZlbnQuZXZlbnRUeXBlLmxlYXZlUm9vbVJlc3BvbnNlLCB0aGlzLmxlYXZlUm9vbVJlc3BvbnNlLCB0aGlzKTtcbiAgICAgICAgY2xpZW50RXZlbnQub24oY2xpZW50RXZlbnQuZXZlbnRUeXBlLmxlYXZlUm9vbU5vdGlmeSwgdGhpcy5sZWF2ZVJvb21Ob3RpZnksIHRoaXMpO1xuICAgICAgICBjbGllbnRFdmVudC5vbihjbGllbnRFdmVudC5ldmVudFR5cGUuam9pbk92ZXJSZXNwb25zZSwgdGhpcy5qb2luT3ZlclJlc3BvbnNlLCB0aGlzKTtcbiAgICB9LFxuXG4gICAgam9pblJhbmRvbVJvb206IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgaWYgKEdMQi5tYXRjaFR5cGUgPT09IEdMQi5SQU5ET01fTUFUQ0gpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG12cy5lbmdpbmUuam9pblJhbmRvbVJvb20oR0xCLk1BWF9QTEFZRVJfQ09VTlQsICcnKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgIT09IDApIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn6L+b5YWl5oi/6Ze05aSx6LSlLOmUmeivr+eggTonICsgcmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChHTEIubWF0Y2hUeXBlID09PSBHTEIuUFJPUEVSVFlfTUFUQ0gpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaGluZm8gPSBuZXcgbXZzLk1hdGNoSW5mbygpO1xuICAgICAgICAgICAgbWF0Y2hpbmZvLm1heFBsYXllciA9IEdMQi5NQVhfUExBWUVSX0NPVU5UO1xuICAgICAgICAgICAgbWF0Y2hpbmZvLm1vZGUgPSAwO1xuICAgICAgICAgICAgbWF0Y2hpbmZvLmNhbldhdGNoID0gMDtcbiAgICAgICAgICAgIG1hdGNoaW5mby50YWdzID0gR0xCLnRhZ3NJbmZvO1xuICAgICAgICAgICAgcmVzdWx0ID0gbXZzLmVuZ2luZS5qb2luUm9vbVdpdGhQcm9wZXJ0aWVzKG1hdGNoaW5mbywgXCJqb2luUm9vbVdpdGhQcm9wZXJ0aWVzXCIpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfov5vlhaXmiL/pl7TlpLHotKUs6ZSZ6K+v56CBOicgKyByZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIHN0YXJ0R2FtZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfmuLjmiI/ljbPlsIblvIDlp4snKTtcbiAgICAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKCdnYW1lJyk7XG4gICAgfSxcblxuICAgIGpvaW5Sb29tUmVzcG9uc2U6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEuc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfov5vlhaXmiL/pl7TlpLHotKUs5byC5q2l5Zue6LCD6ZSZ6K+v56CBOiAnICsgZGF0YS5zdGF0dXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+i/m+WFpeaIv+mXtOaIkOWKnycpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+aIv+mXtOWPtzogJyArIGRhdGEucm9vbUluZm8ucm9vbUlEKTtcbiAgICAgICAgfVxuICAgICAgICBHTEIucm9vbUlkID0gZGF0YS5yb29tSW5mby5yb29tSUQ7XG4gICAgICAgIHZhciB1c2VySWRzID0gW0dMQi51c2VySW5mby5pZF1cbiAgICAgICAgY29uc29sZS5sb2coJ+aIv+mXtOeUqOaItzogJyArIHVzZXJJZHMpO1xuXG4gICAgICAgIHZhciBwbGF5ZXJJY29uID0gbnVsbDtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhLnJvb21Vc2VySW5mb0xpc3QubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHBsYXllckljb24gPSB0aGlzLnBsYXllckljb25zW2pdLmdldENvbXBvbmVudCgncGxheWVySWNvbicpO1xuICAgICAgICAgICAgaWYgKHBsYXllckljb24gJiYgIXBsYXllckljb24udXNlckluZm8pIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXJJY29uLnNldERhdGEoZGF0YS5yb29tVXNlckluZm9MaXN0W2pdKTtcbiAgICAgICAgICAgICAgICBpZiAoR0xCLnVzZXJJbmZvLmlkICE9PSBkYXRhLnJvb21Vc2VySW5mb0xpc3Rbal0udXNlcklkKSB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJJZHMucHVzaChkYXRhLnJvb21Vc2VySW5mb0xpc3Rbal0udXNlcklkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucGxheWVySWNvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBsYXllckljb24gPSB0aGlzLnBsYXllckljb25zW2ldLmdldENvbXBvbmVudCgncGxheWVySWNvbicpO1xuICAgICAgICAgICAgaWYgKHBsYXllckljb24gJiYgIXBsYXllckljb24udXNlckluZm8pIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXJJY29uLnNldERhdGEoR0xCLnVzZXJJbmZvKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBHTEIucGxheWVyVXNlcklkcyA9IHVzZXJJZHM7XG4gICAgICAgIGlmICh1c2VySWRzLmxlbmd0aCA+PSBHTEIuTUFYX1BMQVlFUl9DT1VOVCkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG12cy5lbmdpbmUuam9pbk92ZXIoXCJcIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWPkeWHuuWFs+mXreaIv+mXtOeahOmAmuefpVwiKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgIT09IDApIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWFs+mXreaIv+mXtOWksei0pe+8jOmUmeivr+egge+8mlwiLCByZXN1bHQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBHTEIucGxheWVyVXNlcklkcyA9IHVzZXJJZHM7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgam9pblJvb21Ob3RpZnk6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJqb2luUm9vbU5vdGlmeSwgcm9vbVVzZXJJbmZvOlwiICsgSlNPTi5zdHJpbmdpZnkoZGF0YS5yb29tVXNlckluZm8pKTtcbiAgICAgICAgdmFyIHBsYXllckljb24gPSBudWxsO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMucGxheWVySWNvbnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHBsYXllckljb24gPSB0aGlzLnBsYXllckljb25zW2pdLmdldENvbXBvbmVudCgncGxheWVySWNvbicpO1xuICAgICAgICAgICAgaWYgKHBsYXllckljb24gJiYgIXBsYXllckljb24udXNlckluZm8pIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXJJY29uLnNldERhdGEoZGF0YS5yb29tVXNlckluZm8pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGxlYXZlUm9vbTogZnVuY3Rpb24oKSB7XG4gICAgICAgIG12cy5lbmdpbmUubGVhdmVSb29tKFwiXCIpO1xuICAgIH0sXG5cbiAgICBsZWF2ZVJvb21Ob3RpZnk6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgaWYgKEdMQi5yb29tSWQgPT09IGRhdGEubGVhdmVSb29tSW5mby5yb29tSUQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wbGF5ZXJJY29ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBwbGF5ZXJJY29uID0gdGhpcy5wbGF5ZXJJY29uc1tpXS5nZXRDb21wb25lbnQoJ3BsYXllckljb24nKTtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVySWNvbiAmJiBwbGF5ZXJJY29uLnVzZXJJbmZvICYmIHBsYXllckljb24ucGxheWVySWQgPT09IGRhdGEubGVhdmVSb29tSW5mby51c2VySWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGxheWVySWNvbi5pbml0KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBsZWF2ZVJvb21SZXNwb25zZTogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICBpZiAoZGF0YS5sZWF2ZVJvb21Sc3Auc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi56a75byA5oi/6Ze05oiQ5YqfXCIpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBsYXllckljb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBsYXllckljb24gPSB0aGlzLnBsYXllckljb25zW2ldLmdldENvbXBvbmVudCgncGxheWVySWNvbicpO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXJJY29uKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYXllckljb24uaW5pdCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1aUZ1bmMuY2xvc2VVSSh0aGlzLm5vZGUubmFtZSk7XG4gICAgICAgICAgICB0aGlzLm5vZGUuZGVzdHJveSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCLnprvlvIDmiL/pl7TlpLHotKVcIik7XG4gICAgICAgIH1cbiAgICB9LFxuXG5cbiAgICBqb2luT3ZlclJlc3BvbnNlOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhLmpvaW5PdmVyUnNwLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWFs+mXreaIv+mXtOaIkOWKn1wiKTtcbiAgICAgICAgICAgIHRoaXMubm90aWZ5R2FtZVN0YXJ0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWFs+mXreaIv+mXtOWksei0pe+8jOWbnuiwg+mAmuefpemUmeivr+egge+8mlwiLCBkYXRhLmpvaW5PdmVyUnNwLnN0YXR1cyk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgbm90aWZ5R2FtZVN0YXJ0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgR0xCLmlzUm9vbU93bmVyID0gdHJ1ZTtcbiAgICAgICAgdmFyIG1zZyA9IHtcbiAgICAgICAgICAgIGFjdGlvbjogR0xCLkdBTUVfU1RBUlRfRVZFTlQsXG4gICAgICAgICAgICB1c2VySWRzOiBHTEIucGxheWVyVXNlcklkc1xuICAgICAgICB9O1xuICAgICAgICBHYW1lLkdhbWVNYW5hZ2VyLnNlbmRFdmVudEV4KG1zZyk7XG4gICAgfSxcblxuICAgIG9uRGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGNsaWVudEV2ZW50Lm9mZihjbGllbnRFdmVudC5ldmVudFR5cGUuam9pblJvb21SZXNwb25zZSwgdGhpcy5qb2luUm9vbVJlc3BvbnNlLCB0aGlzKTtcbiAgICAgICAgY2xpZW50RXZlbnQub2ZmKGNsaWVudEV2ZW50LmV2ZW50VHlwZS5qb2luUm9vbU5vdGlmeSwgdGhpcy5qb2luUm9vbU5vdGlmeSwgdGhpcyk7XG4gICAgICAgIGNsaWVudEV2ZW50Lm9mZihjbGllbnRFdmVudC5ldmVudFR5cGUubGVhdmVSb29tUmVzcG9uc2UsIHRoaXMubGVhdmVSb29tUmVzcG9uc2UsIHRoaXMpO1xuICAgICAgICBjbGllbnRFdmVudC5vZmYoY2xpZW50RXZlbnQuZXZlbnRUeXBlLmxlYXZlUm9vbU5vdGlmeSwgdGhpcy5sZWF2ZVJvb21Ob3RpZnksIHRoaXMpO1xuICAgIH1cbn0pO1xuIl19